import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
/**
 * Settings Page
 * User preferences, API configuration, and account management
 */
import { useState } from 'react';
/**
 * SettingsPage Component
 * Features:
 * - Display user profile information
 * - API endpoint configuration
 * - Theme preferences
 * - Notification settings
 * - Logout button
 */
export const SettingsPage = ({ user, onLogout }) => {
    const [apiUrl, setApiUrl] = useState(import.meta.env.VITE_API_URL || 'http://localhost:8000');
    const [theme, setTheme] = useState('dark');
    const [notificationsEnabled, setNotificationsEnabled] = useState(true);
    const [telegramNotifications, setTelegramNotifications] = useState(true);
    const [emailNotifications] = useState(false);
    const [savedMessage, setSavedMessage] = useState('');
    const handleSaveSettings = () => {
        try {
            localStorage.setItem('apiUrl', apiUrl);
            localStorage.setItem('theme', theme);
            localStorage.setItem('notificationsEnabled', notificationsEnabled.toString());
            localStorage.setItem('telegramNotifications', telegramNotifications.toString());
            localStorage.setItem('emailNotifications', emailNotifications.toString());
            setSavedMessage('Settings saved successfully!');
            setTimeout(() => setSavedMessage(''), 3000);
        }
        catch (err) {
            console.error('Failed to save settings:', err);
            setSavedMessage('Failed to save settings');
        }
    };
    return (_jsxs("div", { className: "space-y-6", children: [_jsxs("div", { className: "bg-slate-800 rounded-lg border border-slate-700 p-6", children: [_jsx("h2", { className: "text-lg font-semibold text-white mb-6", children: "User Profile" }), user ? (_jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-start gap-6", children: [user.github_avatar_url && (_jsx("img", { src: user.github_avatar_url, alt: user.github_username, className: "w-24 h-24 rounded-lg border border-slate-600" })), _jsxs("div", { className: "flex-1", children: [_jsx("p", { className: "text-slate-400 text-sm mb-1", children: "GitHub Username" }), _jsx("p", { className: "text-white font-semibold text-lg mb-4", children: user.github_username }), _jsx("p", { className: "text-slate-400 text-sm mb-1", children: "User ID" }), _jsx("p", { className: "text-slate-300 font-mono text-sm mb-4", children: user.id }), _jsxs("div", { className: "grid grid-cols-2 gap-4 text-sm", children: [_jsxs("div", { children: [_jsx("p", { className: "text-slate-400 mb-1", children: "Joined" }), _jsx("p", { className: "text-slate-300", children: new Date(user.created_at).toLocaleDateString() })] }), _jsxs("div", { children: [_jsx("p", { className: "text-slate-400 mb-1", children: "Last Login" }), _jsx("p", { className: "text-slate-300", children: new Date(user.last_login).toLocaleString() })] })] })] })] }), _jsxs("div", { className: "pt-6 border-t border-slate-600", children: [_jsx("p", { className: "text-slate-400 text-sm mb-3", children: "Authentication Token" }), _jsx("div", { className: "bg-slate-700/50 rounded p-3 mb-3", children: _jsx("p", { className: "text-slate-400 text-xs font-mono break-all", children: localStorage.getItem('auth_token') ? localStorage.getItem('auth_token').substring(0, 20) + '...' : 'No token (Cloudflare Access)' }) }), _jsx("p", { className: "text-slate-500 text-xs", children: "Your authentication token is securely stored in your browser's local storage. Never share it with anyone." })] })] })) : (_jsx("p", { className: "text-slate-400", children: "Not authenticated" }))] }), _jsxs("div", { className: "bg-slate-800 rounded-lg border border-slate-700 p-6", children: [_jsx("h2", { className: "text-lg font-semibold text-white mb-6", children: "API Configuration" }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm text-slate-400 mb-2", children: "API Base URL" }), _jsx("input", { type: "text", value: apiUrl, onChange: (e) => setApiUrl(e.target.value), placeholder: "http://localhost:8000 or https://api.domain.com", className: "w-full bg-slate-700 border border-slate-600 text-white rounded px-4 py-2 text-sm focus:outline-none focus:border-blue-500" }), _jsx("p", { className: "text-slate-500 text-xs mt-2", children: "Set the API endpoint for the dashboard. This must point to your trading bot API server." })] }), _jsxs("div", { className: "pt-4 border-t border-slate-600", children: [_jsx("p", { className: "text-slate-400 text-sm mb-2", children: "Connection Status" }), _jsxs("div", { className: "flex items-center gap-2", children: [_jsx("div", { className: "w-3 h-3 bg-green-500 rounded-full animate-pulse" }), _jsx("span", { className: "text-slate-300 text-sm", children: "Connected to API" })] })] })] })] }), _jsxs("div", { className: "bg-slate-800 rounded-lg border border-slate-700 p-6", children: [_jsx("h2", { className: "text-lg font-semibold text-white mb-6", children: "Display Preferences" }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm text-slate-400 mb-2", children: "Theme" }), _jsxs("select", { value: theme, onChange: (e) => setTheme(e.target.value), className: "w-full bg-slate-700 border border-slate-600 text-white rounded px-4 py-2 text-sm focus:outline-none focus:border-blue-500", children: [_jsx("option", { value: "dark", children: "Dark (Current)" }), _jsx("option", { value: "light", children: "Light" })] }), _jsx("p", { className: "text-slate-500 text-xs mt-2", children: "Choose your preferred color scheme. Dark theme is optimized for trading screens." })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm text-slate-400 mb-2", children: "Default Time Zone" }), _jsxs("select", { defaultValue: "UTC", className: "w-full bg-slate-700 border border-slate-600 text-white rounded px-4 py-2 text-sm focus:outline-none focus:border-blue-500", children: [_jsx("option", { value: "UTC", children: "UTC (Coordinated Universal Time)" }), _jsx("option", { value: "EST", children: "EST (Eastern Standard Time)" }), _jsx("option", { value: "CST", children: "CST (Central Standard Time)" }), _jsx("option", { value: "MST", children: "MST (Mountain Standard Time)" }), _jsx("option", { value: "PST", children: "PST (Pacific Standard Time)" })] })] })] })] }), _jsxs("div", { className: "bg-slate-800 rounded-lg border border-slate-700 p-6", children: [_jsx("h2", { className: "text-lg font-semibold text-white mb-6", children: "Notifications" }), _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center justify-between p-4 bg-slate-700/50 rounded", children: [_jsxs("div", { children: [_jsx("p", { className: "text-white font-medium", children: "Enable Notifications" }), _jsx("p", { className: "text-slate-400 text-sm", children: "Receive alerts about trades and bot status" })] }), _jsx("button", { onClick: () => setNotificationsEnabled(!notificationsEnabled), className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${notificationsEnabled ? 'bg-blue-600' : 'bg-slate-600'}`, children: _jsx("span", { className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${notificationsEnabled ? 'translate-x-6' : 'translate-x-1'}` }) })] }), notificationsEnabled && (_jsxs(_Fragment, { children: [_jsxs("div", { className: "flex items-center justify-between p-4 bg-slate-700/30 rounded border border-slate-600", children: [_jsxs("div", { children: [_jsx("p", { className: "text-white font-medium", children: "Telegram Notifications" }), _jsx("p", { className: "text-slate-400 text-sm", children: "Get alerts via Telegram bot" })] }), _jsx("button", { onClick: () => setTelegramNotifications(!telegramNotifications), className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${telegramNotifications ? 'bg-blue-600' : 'bg-slate-600'}`, children: _jsx("span", { className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${telegramNotifications ? 'translate-x-6' : 'translate-x-1'}` }) })] }), _jsxs("div", { className: "flex items-center justify-between p-4 bg-slate-700/30 rounded border border-slate-600", children: [_jsxs("div", { children: [_jsx("p", { className: "text-white font-medium", children: "Email Notifications" }), _jsx("p", { className: "text-slate-400 text-sm", children: "Get alerts via email (Coming soon)" })] }), _jsx("button", { disabled: true, className: "relative inline-flex h-6 w-11 items-center rounded-full bg-slate-600 cursor-not-allowed", children: _jsx("span", { className: "inline-block h-4 w-4 transform rounded-full bg-white translate-x-1" }) })] })] }))] })] }), _jsxs("div", { className: "bg-slate-800 rounded-lg border border-slate-700 p-6", children: [_jsx("h2", { className: "text-lg font-semibold text-white mb-6", children: "Notification Events" }), _jsxs("div", { className: "space-y-3 text-sm", children: [_jsxs("label", { className: "flex items-center gap-3 cursor-pointer", children: [_jsx("input", { type: "checkbox", defaultChecked: true, className: "w-4 h-4 rounded" }), _jsx("span", { className: "text-slate-300", children: "Trade executed" })] }), _jsxs("label", { className: "flex items-center gap-3 cursor-pointer", children: [_jsx("input", { type: "checkbox", defaultChecked: true, className: "w-4 h-4 rounded" }), _jsx("span", { className: "text-slate-300", children: "High edge opportunity" })] }), _jsxs("label", { className: "flex items-center gap-3 cursor-pointer", children: [_jsx("input", { type: "checkbox", defaultChecked: true, className: "w-4 h-4 rounded" }), _jsx("span", { className: "text-slate-300", children: "Position closed" })] }), _jsxs("label", { className: "flex items-center gap-3 cursor-pointer", children: [_jsx("input", { type: "checkbox", defaultChecked: true, className: "w-4 h-4 rounded" }), _jsx("span", { className: "text-slate-300", children: "Daily loss limit reached" })] }), _jsxs("label", { className: "flex items-center gap-3 cursor-pointer", children: [_jsx("input", { type: "checkbox", defaultChecked: true, className: "w-4 h-4 rounded" }), _jsx("span", { className: "text-slate-300", children: "Bot error or crash" })] })] })] }), _jsxs("div", { className: "space-y-4", children: [savedMessage && (_jsx("div", { className: `p-4 rounded-lg border ${savedMessage.includes('success')
                            ? 'bg-green-900/10 border-green-800 text-green-400'
                            : 'bg-red-900/10 border-red-800 text-red-400'}`, children: savedMessage })), _jsx("button", { onClick: handleSaveSettings, className: "w-full px-6 py-3 bg-blue-700 hover:bg-blue-600 text-white rounded-lg font-semibold transition", children: "Save Settings" }), _jsx("button", { onClick: onLogout, className: "w-full px-6 py-3 bg-red-700 hover:bg-red-600 text-white rounded-lg font-semibold transition", children: "Logout" })] }), _jsxs("div", { className: "bg-slate-900/50 rounded-lg border border-slate-700 p-6 text-center", children: [_jsx("svg", { className: "w-12 h-12 text-blue-500 mx-auto mb-3", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" }) }), _jsx("p", { className: "text-slate-400 text-sm", children: "Your authentication token and API credentials are encrypted in transit and stored securely." })] })] }));
};
export default SettingsPage;
//# sourceMappingURL=Settings.js.map